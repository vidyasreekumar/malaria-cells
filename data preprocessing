import os
from PIL import Image
import random
from shutil import copyfile

list_images_P = os.listdir('/content/cell_images/Parasitized')
list_images_U = os.listdir('/content/cell_images/Uninfected')
random.shuffle(list_images_P)
random.shuffle(list_images_U)

os.makedirs('project')
os.makedirs('/content/project/Train')
os.makedirs('/content/project/Test')
os.makedirs('/content/project/Validation')
os.makedirs('/content/project/Train/parasitized_train')
os.makedirs('/content/project/Train/uninfected_train')
os.makedirs('/content/project/Validation/parasitized_validate')
os.makedirs('/content/project/Validation/uninfected_validate')
os.makedirs('/content/project/Test/parasitized_test')
os.makedirs('/content/project/Test/uninfected_test')

split_1 = int(0.7 * len(list_images_P))
split_2 = int(0.8 * len(list_images_P))
split_3 = int(0.7 * len(list_images_U))
split_4 = int(0.8 * len(list_images_U))

train_images_P = list_images_P[:split_1]
val_images_P = list_images_P[split_1:split_2]
test_images_P = list_images_P[split_2:]

train_images_U = list_images_U[:split_3]
val_images_U = list_images_U[split_3:split_4]
test_images_U = list_images_U[split_4:]

# COPY FILES TO PARASITIZED_TRAIN
for filename in train_images_P:
  src='/content/cell_images/Parasitized/'+filename
  dst='/content/project/Train/parasitized_train/'+filename
  copyfile(src,dst)
  
  # COPY FILE TO UNINFECTED_TRAIN
for filename in train_images_U:
  src='/content/cell_images/Uninfected/'+filename
  dst='/content/project/Train/uninfected_train/'+filename
  copyfile(src,dst)
  
  # COPY FILES TO PARASITIZED_VALIDATION
for filename in val_images_P:
  src='/content/cell_images/Parasitized/'+filename
  dst='/content/project/Validation/parasitized_validate/'+filename
  copyfile(src,dst)
  
  # COPY FILES TO UNINFECTED_VALIDATION
for filename in val_images_U:
  src='/content/cell_images/Uninfected/'+filename
  dst='/content/project/Validation/uninfected_validate/'+filename
  copyfile(src,dst)
  
  # COPY FILES TO PARASITIZED_TEST
for filename in test_images_P:
  src='/content/cell_images/Parasitized/'+filename
  dst='/content/project/Test/parasitized_test/'+filename
  copyfile(src,dst)
  
  # COPY FILES TO UNINFECTED_TEST
for filename in test_images_U:
  src='/content/cell_images/Uninfected/'+filename
  dst='/content/project/Test/uninfected_test/'+filename
  copyfile(src,dst)
